#!/bin/bash

# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                     WealthLog Maintenance Script Configuration                ║
# ║                              Edit for your environment                        ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ================================================================================
# DATABASE CONFIGURATION
# ================================================================================
# PostgreSQL connection details for local development
DB_USERNAME="postgres"               # Your PostgreSQL username
DB_PASSWORD="password"                # Your PostgreSQL password  
DB_NAME="wealthlog"                  # Database name (keep as wealthlog)
DB_HOST="localhost"                  # Database host
DB_PORT="5432"                       # PostgreSQL port (default: 5432)

# ================================================================================
# TEST USER CONFIGURATION
# ================================================================================
# Default test user for authentication testing
TEST_USERNAME="bech"                 # Test username for auth testing
TEST_PASSWORD="123"                  # Test password (use strong password in production)
TEST_EMAIL="test@example.com"        # Test email address
TEST_FIRSTNAME="Test"                # Test user first name
TEST_LASTNAME="User"                 # Test user last name

# ================================================================================
# PRODUCTION URLS
# ================================================================================
# Your production deployment URLs
PROD_BACKEND_URL="https://wealthlog-backend-hx43.onrender.com"
PROD_FRONTEND_URL="https://wealthlogs.com"

# ================================================================================
# DEVELOPMENT CONFIGURATION
# ================================================================================
# Local development server ports
DEV_FRONTEND_PORT=3000               # Next.js frontend port
DEV_BACKEND_PORT=5000                # Express backend port

# Development URLs (usually don't need to change)
DEV_FRONTEND_URL="http://localhost:${DEV_FRONTEND_PORT}"
DEV_BACKEND_URL="http://localhost:${DEV_BACKEND_PORT}"

# ================================================================================
# GOOGLE OAUTH CONFIGURATION
# ================================================================================
# Get these from Google Cloud Console (https://console.cloud.google.com)
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ================================================================================
# JWT CONFIGURATION
# ================================================================================
# Security tokens (will be auto-generated if not set)
# For production, use strong random strings (32+ characters)
JWT_ACCESS_SECRET=""                 # Leave empty for auto-generation
JWT_REFRESH_SECRET=""                # Leave empty for auto-generation
SESSION_SECRET=""                    # Leave empty for auto-generation

# ================================================================================
# EMAIL CONFIGURATION (Optional)
# ================================================================================
# For email verification and password reset features
SMTP_HOST=""                         # e.g., smtp.gmail.com
SMTP_PORT="587"                      # Common ports: 587 (TLS), 465 (SSL)
SMTP_USER=""                         # Your email address
SMTP_PASS=""                         # Your email password/app password
EMAIL_FROM=""                        # From address for emails

# ================================================================================
# DEPLOYMENT CONFIGURATION
# ================================================================================
# Git repository settings
GIT_REMOTE="origin"                  # Git remote name
GIT_BRANCH="main"                    # Main branch name (main or master)

# Deployment platforms
DEPLOY_BACKEND_PLATFORM="render"     # Backend platform (render, heroku, etc.)
DEPLOY_FRONTEND_PLATFORM="vercel"    # Frontend platform (vercel, netlify, etc.)

# ================================================================================
# LOGGING CONFIGURATION
# ================================================================================
# Log file settings
LOG_RETENTION_DAYS=30                # Keep logs for this many days
LOG_MAX_FILES=50                     # Maximum number of log files to keep
LOG_LEVEL="info"                     # Log level (debug, info, warn, error)

# ================================================================================
# PERFORMANCE CONFIGURATION
# ================================================================================
# Build and runtime settings
BUILD_PARALLEL=true                  # Enable parallel builds
BUILD_CACHE=true                     # Use build cache
MAX_MEMORY_RESTART=1024M            # Restart if memory exceeds this
NODE_ENV_DEFAULT="development"       # Default NODE_ENV if not set

# ================================================================================
# FEATURE FLAGS
# ================================================================================
# Enable/disable features
ENABLE_AUTH_TEST=true               # Enable authentication testing commands
ENABLE_DB_RESET=true                # Enable database reset command
ENABLE_DEPLOY_COMMANDS=true         # Enable deployment commands
ENABLE_AUTO_BACKUP=false            # Auto-backup before destructive operations
ENABLE_HEALTH_CHECKS=true           # Enable health check monitoring

# ================================================================================
# NOTIFICATION SETTINGS (Optional)
# ================================================================================
# Get notified of deployment status
NOTIFY_ON_DEPLOY=false              # Send notification on deployment
NOTIFY_EMAIL=""                     # Email for notifications
NOTIFY_WEBHOOK=""                   # Webhook URL (Slack, Discord, etc.)

# ================================================================================
# CUSTOM PATHS (Advanced)
# ================================================================================
# Override default paths if needed (relative to project root)
CUSTOM_BACKEND_DIR=""               # Leave empty for default: wealthlogs-code/apps/backend
CUSTOM_FRONTEND_DIR=""              # Leave empty for default: wealthlogs-code/apps/web
CUSTOM_SHARED_DIR=""                # Leave empty for default: wealthlogs-code/packages/shared

# ================================================================================
# DOCKER CONFIGURATION (Future)
# ================================================================================
# Docker settings for containerized deployment
DOCKER_REGISTRY=""                  # Docker registry URL
DOCKER_IMAGE_PREFIX="wealthlog"     # Prefix for Docker images
DOCKER_NETWORK="wealthlog-network"  # Docker network name

# ================================================================================
# END OF CONFIGURATION
# ================================================================================
# Don't edit below this line unless you know what you're doing

# Export all variables for use in maintenance script
set -a
source "${BASH_SOURCE[0]}"
set +a
